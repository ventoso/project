---
title: Python基本数据类型
date: 2020-3-1
sidebar: 'auto'
categories:
- All
- Python
tags:
 - Python
--- 

# 基本数据类型

## 数字类型及操作

- **整数类型** ：与数学中的整数概念一致

  - 可正可负，没有取值范围的限制

  - pow(x,y)函数：计算
    $$
    x^y
    $$

- 整数类型的四种进制表示形式

  - 十进制：如1010，99，-217
  - 二进制，以0b或0B开头：如0b010，-0b010
  - 八进制，以0o或0O开头：如 0o123，-0o123
  - 十六进制，以0x或0X开头 ：如 0x9a，-0x89



- **浮点数类型**：与数学中的实数的概念一致
  - 指的是带有小数点及小数的数字
  - 浮点数的取值范围和小数精度都存在限制，但是常规计算可以忽略
- 浮点数间的运算，存在不确定尾，且不是bug，因为计算机计算原理的原因，需要将输入的数字进行转化运算及反向转化，会导致运算结果与实际运算结果有出入，不是bug，是计算机运算的特性（计算机中10进制与二进制不存在严格的对等关系）
  - 二进制表示小数，可以无限接近，但是不完全相同



```python
>>> 0.1 + 0.2 == 0.3 
False

>>> round(0.1+0.2, 1) == 0.3
True
```



- tips：两个等号`==`是python语言的等于判断符号

上方代码中 round()函数做的事四舍五入

- round(x, d) :对x进行四舍五入，d是小数截取位数



**所以，浮点数之间的运算及比较用round()函数辅助运算**

（不确定尾数一般发生在10的负16次方左右，因此round()函数十分有效）



- 浮点数可以采用科学计数法表示

  - 使用字母E或e作为幂的符号，以10为基数，格式如下

    - `<a>e<b>` 表示 
      $$
      a*10^b
      $$

    - 如4.3e-3 值为0.0043  9.6E5 值为960000.0



**关于浮点数，需要了解更多**

- 取值范围和精度基本无限制
- 运算存在不确定尾数，可用round()函数
- 科学计数法表示





- **复数类型** ：与数学中的负数概念一致
  - 在众多编程语言中，只有python语言提供了复数类型

::: theorem 复数
我们把形如z=a+bi（a,b均为实数）的数称为复数，其中a称为实部，b称为虚部，i称为[虚数](https://baike.baidu.com/item/虚数)单位。当z的虚部等于零时，常称z为实数；当z的[虚部](https://baike.baidu.com/item/虚部/5231815)不等于零时，实部等于零时，常称z为[纯虚数](https://baike.baidu.com/item/纯虚数/3386848)。复数域是实数域的代数闭包，即任何复系数多项式在复数域中总有根。 复数是由[意大利](https://baike.baidu.com/item/意大利/148336)米兰学者卡当在十六世纪首次引入，经过达朗贝尔、[棣莫弗](https://baike.baidu.com/item/棣莫弗/2763026)、欧拉、高斯等人的工作，此概念逐渐为数学家所接受。

::: right
来自 [百度百科](https://baike.baidu.com/item/%E5%A4%8D%E6%95%B0/254365)
:::


定义
$$
j=\sqrt{-1}
$$
以此为基础，构建数学体系


$$
a+bj
$$
 被称为复数，其中a是实部，b是虚部

---

复数实例
$$
z=1.23e-4+5.6e+89j
$$

- 实部是什么                 
  - z.real 获得实部
- 虚部是什么         
  - z.imag 获得虚部

复数类型在常规计算机编程很少使用，但是它却是进行空间变换尤其是跟复变函数相关的科学体系中最常用的一种类型





- **数值运算操作符**
  - python借鉴了很多在数学中的操作符来进行数值运算

操作符是完成运算的一种符号体系

| 操作符及使用 | 描述                                    |
| ------------ | --------------------------------------- |
| x+y          | 加,x与y的和                             |
| x - y        | 减，x与y的差                            |
| x * y        | 乘，x与y的积                            |
| x / y        | 除，x与y的商 10/3结果为 3.3333333333335 |
| x // y       | 整数除，x与y的整数商 如10//3 结果为3    |

还有一些..... 

| 操作符及使用 |           描述           |
| :----------: | :----------------------: |
|      +y      |          x本身           |
|      -y      |         y的负值          |
|    x % y     | 余数，模运算 10%3结果是1 |

- x ** y 

  - 幂运算，x的y次幂。
    $$
    x^y
    $$

  - 当y是小数时，开方运算，如 10 ** 0.5 结果是
    $$
    \sqrt{10}
    $$

---

除了基本的基本的操作符之外，python提供了对二元操作符的一种增强型的赋值操作符



<table>
	<tr>
	    <th>属性</th>
	    <th>属性值</th>
	</tr >
	<tr >
	    <td rowspan="9">x op =y</td>
	    <td>即 x = x op y，其中，op为二元操作符</td>
	</tr>
	<tr>
	    <td>x += y,x -= y, x *= y , x /= y, x //= y ,x %= y, x **= y</td>
	</tr>
    </table>






	不同的数字类型可以进行运算，结果为“最宽”的类型


` 整数` ——> `浮点数` ——> `复数`


不同的数据类型进行运算的时候，产生的结果的数据类型为参与运算的范围最宽的数据类型



- **数值运算函数**
  - 一些以函数形式提供的数值运算功能

| 函数及使用            | 描述                                          |
| --------------------- | --------------------------------------------- |
| abs(x)                | 绝对值，x的绝对值                             |
| divmod(x,y)           | 商余，(x//y,x%y),同时输出商和余数             |
| pow(x,y[,z])          | 幂余，(x**y)%z,[..]表示参数z可以省略          |
| round(x[,d])          | 对x进行四舍五入，d时保留小数位数，默认为0     |
| max(x₁，x₂,......,xₙ) | 最大值，返回x₁，x₂,......,xₙ中的最大值，n不限 |
| min(x₁，x₂,......,xₙ) | 最小值，返回x₁，x₂,......,xₙ中的最小值，n不限 |

数字类型转换函数

| 函数及使用 | 描述                        |
| ---------- | --------------------------- |
| int(x)     | 将x变为整数，舍弃小数部分   |
| floa(x)    | 将x变为浮点数，增加小数部分 |
| complex(x) | 将x变为复数，增加虚数部分   |


## 实例：天天向上的力量

**设计问题：持续的价值**

-  一年365天，每天进步 1%，累计进步多少？

$$
  1.01^{365}
$$  

-  一年365天，每天退步1%，累计剩下多少？

$$
  0.99^{365}
$$  


  数学公式可以求解，但是使用程序更为简单

  多种情况需要考虑

---

* 实例一：

  千分之一的力量

* 一年365天，每天进步千分之一，累计进步多少？

$$
  1.001^{365}
$$  

* 一年365天，每天退步千分之一，累计剩下多少？

$$
  0.999^{365}
$$  


  程序编写

```python
# DayDayupq1
dayup =pow(1.001, 365)
daydown =pow(0.999, 365)
print("向上：{:.2f},向下：{:.2f}".format(dayup, daydown))
```

---

* 实例二：

  千分之五和百分之一的力量

* 一年365天，每天进步千分之五或百分之一，累计进步多少？

$$
  1.005^{365} 或者 1.01^{365}
$$
* 一年365天，每天退步千分之五或百分之一，累计退步多少？

$$
  0.995^{365} 或者 0.99^{365}
$$

程序编写
    

```python
# DayDayupq2
dayfactor = 0.005 #引入变量，修改调试更为便捷
dayup = pow(1+dayfactory, 365)
daydown = pow(1-dayfactory, 365)
print("向上：{:2f}, 向下：{:2f}".format(dayup, daydown))
```

---

* 实例三：

  工作日的力量

* 一年365天，一周5个工作日，每天进步1%

* 一年365天，一周2个休息日，每天退步1%

  前两个问题可以轻松的写出其对应的数学公式，而这种偏实际的问题，需要考虑的因素相对多，所以就相对不容易得到一个确定的数学公式。

  **尝试将数学思维转换为计算机思维**

  分析问题，一年365天，7天一个周期，连续5天工作日每天涨1%，接下来两天减少1%，尝试用计算机模拟这段过程。

  程序编写

```python
#DayDayUpQ3.py
    dayup = 1.0
    dayfactor = 0.01
    for i in range(365):
        if i % 7 in [6,0]:
            dayup = dayup*(1-dayfactor)
        else:
            dayup = dayup*(1+dayfactor)
    print("向上：{:.wf}".format(dayup))
```

---

实例4：

工作日的努力

* 工作日模式要努力到什么水平，才能与每天努力1%一样？

  计算机相对于传统运算的优势，那就是计算速度很快，因此对于一些问题，我们可以使用笨方法，让计算机通过不断运算而得出结果。

  因此对于这个问题，我们可以逐渐提高工作日努力的水平，来不断的跟标准（365天，每天努力1%）比较，直到达到标准，再输出结果。

  我们可以列出一个流程图

  ![](https://ae01.alicdn.com/kf/H69f617e084484ec7b0a95e2a7bee2acdZ.png)

  这就非常明了了

* 代码编写

 ```python
 #DayDayUpQ4.py
def dayUP(df):
    dayUP = 1
    for i in range(365):
        if i % 7 in [6,0]:
            dayUP = dayUP*(1 - 0.01)
        else:
            dayUP = dayUP*(1 + df)
    return dayUP
# 上方定义了一个函数 dayUP(df)
dayfactor = 0.01
while dayUP(dayfactor) &lt; 37.78:
    dayfactor += 0.001
print("工作日需要努力：{:.2f}".format(dayfactor))
 ```

上方代码中用到保留字 `def`  和 `while` ，分别构成定义新函数和循环语句。


# 字符串类型及操作



## 字符串类型的表示

> 字符串是由 0 个或多个字符组成的有序字符序列。



::: tip

字符串由一对单引号或一对双引号表示。

字符串是字符的有序序列，可以对其中的字符进行索引。

:::



### 字符串的两类四种表示方法



::: warning

由一对**单**引号或**双**引号表示，仅表示**单行**字符串。



由一对**三单**引号或**三双**引号表示，可以表示**多行**字符串。

:::



::: tip

Python 语言并没有提供多行注释的表示方法，但是可以用三单引号来表示，因为当一个程序中出现了字符串，但是这个字符串并没有给到一个变量中或没有进行任何操作，那么它也可以当作注释来使用，即三单引号表示的是字符串，但是可以当作注释来使用。

:::



- 为什么 Python 要提供两类四种字符串表示方法？

  - 如果希望在字符串中包含双引号或单引号呢？
    - '这里有个双引号(")' 或者 "这里有个单引号(’)"
  - 如果希望字符串中既包含单引号又包含双引号呢？
    - ''' 这里既有单引号 (') 又有双引号 (") '''

>由此可见， Python 提供的字符串表示方法是存在冗余的，其中冗余最大的好处是使得单引号和双引号在字符串的操作变得更加简单与方便

### 字符串的序号

1. 正向递增序号 : 从左至右由 0 开始依次递增
2. 反向递减序号 : 从右至做由 -1 开始依次递减

### 字符串的使用

字符串的主要使用方法体现在**索引与切片**

>使用 `[]` （中括号）获取字符串中的一个或者多个字符

#### 索引

返回字符串中的单个字符

```Python
<字符串>[M]
```

例子：

```
“请输入带有符号的温度值： ”[0] 
TempStr[-1]
```

#### 切片

返回字符串中的一段字符 

```Python
<字符串>[M: N]
```

例子：

```Python
"请输入带有符号的温度值: "[1:3]
TempSter[0:1]
```
##### 切片的高级用法

::: tip
<字符串>[M:N]
其中参数 M 与参数 N 都是可以缺失的，M 缺失表示至开头， N 缺失表示至结尾。
:::
::: tip
使用[M:N:K]根据步长对字符串切片
<字符串>[M:N:K] 根据步长（参数 K ）对字符串切片。
:::
例子：
"0123456789"[1:8:2] 的结果是 "1357"

::: tip
使用步长参数来进行将字符串的逆序操作

"0123456789"[::-1] 结果为 "9876543210"
步长为 -1 为从后向前逐一去除从开始到结尾的字符串
:::

### 字符串的特殊字符

转义符:**表达特定字符的本意**

::: warning
如果在字符串中出现了双引号，你除了可以使用两个单引号来表示字符串之外，你可以使用在转义符 / ，如果在字符串中出现了 / ，那么 / 之后的字符将会被当作字符的本意来理解。
:::

例如："this is a double quotes(\")"   result: this is a double quotes(")

::: tip
转义符形成一些组合，表示一些不可以被打印的含义。
:::

```
\b #回退，使当前的光标向前回退一个位置
\n #换行（光标移动到下一行首）
\r #回车（光标移动到本行首））
```



这些转义符的操作对字符串的处理提供了帮助



## 字符串的操作符

| 操作符及使用   | 描述                                                         |
| -------------- | ------------------------------------------------------------ |
| x + y          | 连接两个字符串 x 和 y                                        |
| n * x 或 x * n | 复制 n 次字符串 x                                            |
| x `in` s       | 判断字符串 x 是否在字符串 s 中，即如果 x 是 s 的字串，返回 True ，否则返回 False. |



小练习：获取星期字符串

```Python
#WeekNamePrintV1.py
weekStr = "星期一星期二星期三星期四星期五星期六星期日"
weekID = eval(input("请输入星期数字(1-7)： "))
pos = (weekID - 1) * 3
print(weekStr[pos:pos+3])
```

::: tip
这段代码的基本思想是：首先给出一个很长的字符串，根据用户输入对字符串进行切片，然后输出切片结果给用户。

:::

```Python
#WeekNamePrintV2.py
weekStr = "一二三四五六日"
weekID = eval(input("请输入星期数字(1-7): "))
print("星期" + weekStr[weekID-1])
```

利用字符串的操作符来简化代码。

## 字符串处理函数

| 函数及使用        | 描述                                                         |
| ----------------- | ------------------------------------------------------------ |
| len(x)            | 长度，返回字符串 x 的长度<br/>len("一二三456") result: 6     |
| str(x)            | 将任意类型 x 转换为所对应的字符串形式，与 eval() 函数相对应  |
| hex(x)  或 oct(x) | 整数 x 的十六进制或八进制小写形式字符串（将整数 x 转换为十六进制与八进制小写形式字符串） |
| chr(u) 或 ord(x)  | u 为 Unicode 编码，chr(u) 表示为返回其对应的字符<br/>x 为字符，ord(x) 表示为返回其对应的 Unicode 编码 |

::: tip

Unicode 与字符四一一对应的， Unicode 编码是 Python 字符串的编码形式，Python3 中所有字符串与代码都是采用 Unicode 编码存在的。

:::

> 统一字符编码，即覆盖几乎所有字符的编码方式。
>
> 从 0 到 1114111 (0x10FFFF) 空间，每个编码对应一个字符。



使用 Unicode 编码使得 Python 的程序能够不限于不同国家的语言进行通用。


```Python
>>> "1 + 1 = 2" + chr(10004)
'1 + 1 = 2 ✔' # chr(1004) 即为将 Unicode 编码中的 1004 编码转换为字符 ”✔“
```

一些有趣的例子：

```Python
>>> "这个字符♉的 Unicode 值是: " + str(ord("♉"))
'这个字符♉的 Unicode 值是: 9801'
>>> for i in range(12):
    	print(chr(9800 + i), end="") #end 表示输出是否换行，如果 end="" end等于空 ，那么就不换行。
♈♉♊♋♌♍♎♏♐♑♒♓
```

## 字符串的处理“方法”

"方法"在编程中是一个专有名词

::: tip
"方法" 特指 `<a>.<b>() `风格中的函数 `<b>.()`。

"方法"本身也是函数，但与 `<a>` 有关， `<a>.<b>()` 风格使用。

字符串及变量也是 `<a>` ，存在一些方法。

**方法要用 `.` 的方式来执行。
:::

::: warning
其中 `<a>.<b>()` 风格是面向对象编程的一种使用风格，其中 `<a>` 为对象， `<b>` 为某一个对象所能提供的功能，客观来说，“方法”是对象的一个专有名词，这里只是借用。
:::

| 方法及使用                   | 描述                                                         |
| ---------------------------- | ------------------------------------------------------------ |
| str.lower() 或 str.upper()   | 返回字符串的副本，全部字符 小写 (.lower) /大写 (.upper)。    |
| str.split(sep=None)          | 返回一个列表， 由 str 根据 sep 被分隔的部分<br/>"A,B,C".split(",") result： ['A','B','C'] |
| str.count(sub)               | 返回字串 sub 在 str 中出现的次数<br/>"an apple a day".count("a") result：4 |
| str.replace(old,new)         | 返回字符串 str 副本，所有 old 字串被替换为 new <br/>"python".replace("n","n123.io) result："python123.io" |
| str.center(width[,fillchar]) | 字符串 str 根据宽度 width 居中， fillchar 可选<br/>"python".center(20,"=") result： '=======python=======' |
| str.strip(chars)             | 从 str 中去掉其左侧和右侧 chars 中列出的字符<br/>"= python =".strip(" =np") result： "ytho" |
| str.join(iter)               | 在 iter 变量除最后元素外的每一个元素后加一个 str <br/>",".join("12345") result： "1,2,3,4,5" #主要用于字符串分隔等 |


## 字符串类型的格式化

> 格式化是对字符串进行格式表达的方法。



::: tip

字符串格式化使用 .format() 方法，用法如下：

<模板字符串>.format(<逗号分隔参数>)

:::

### **槽**

> ”槽“ ，相当于一个占位信息符，它使用一对大括号"{}"来表示，它只在字符串中有用。

![](https://ae01.alicdn.com/kf/He18d62079570431a8a5a48656b44fc40E.jpg)

::: tip

在这个实例中我们设置了三个槽，它与其他待输出的字符信息共同组成了字符串，每一个槽中需要的内容，与 .format 中对应的参数是相一致的，上方模板三个槽的顺序在不指定的情况下默认为 0，1，2 ，format() 的三个参数默认顺序也是 0，1，2 。他们之间的关系就是将 format方法中的参数按照对应的顺序添加到模板字符串的槽中。

:::



进一步我们可以在槽中指定要添加到的位置

![](https://ae01.alicdn.com/kf/H8d2c3fc4d2004e0c99e6027128da08cf5.jpg)

::: tip

在槽中填写数字，表面在该槽中填写 .format 中第几个参数。

:::



> Python 语言使用槽机制加上 format 方法形成字符串的格式化。



除了参数序号之外，如果某一个槽中确定某一个相关的关联的参数，确定关联参数之后，我们可以对这个参数的输出格式进行相关的控制，槽内部使用格式化的控制标记来进行格式控制。

在槽的内部，除了序号之外，我们可以用一个 `:` 来引导一些参数控制某一个变量在这个槽中的输出格式。

![](https://ae01.alicdn.com/kf/H8f082b3092b140efb746899f9e756691X.jpg)

我们可以将上方六个参数分为两组，前三个为一组

::: tip

填充对齐与宽度，是一个概念，首先要给出一个输出宽度，然后决定即将输出的参数在这个宽度中的对其方式，确定对其之后，如果还有空余的空间，应该填充什么字符。

:::

::: warning 

他们之间采用了 `填充` `对其` `宽度` 的这样一个顺序

:::

例子：

```python
>>>"{0:=^20}".format("PYTHON")
'=======PYTHON======='
```

```python
>>>"{0:*>20}".format("BIT")
'*****************BIT'
```

```PYTHON
>>>"{:10}".format("BIT")
'BIT       ' #由此可见，默认情况下使用空格填充，对齐方式是左对齐。
```

 

后三个为一组

例子：

```python
>>>"{0:,.2f}".format(12345.6789)
'12,345.68'
```



对于<类型>方法：

| 整数类型 | 描述             |
| -------- | ---------------- |
| b        | 二进制           |
| c        | Unicode 编码格式 |
| d        | 十进制           |
| o        | 八进制           |
| x        | 十六进制（小写） |
| X        | 十六进制（大写） |

```python
>>>"{0:b},{0:c},{0:d},{0:o},{0:x},{0:X}".format(425)
'110101001,Ʃ,425,651,1a9,1A9
'
```

| 浮点数类型 | 描述               |
| ---------- | ------------------ |
| e          | 科学计数法         |
| E          | 科学技术法         |
| f          | 通常的非科学技术法 |
| %          | 以百分数形式表示   |

```python
>>>"{0:.e},{0:.E},{0:.f},{0:.%}".format(3.14)
'3.140000e+00,3.140000E+00,3.140000,314.000000%'
```

# Time 库的使用



## 基本介绍

::: tip

基本情况，是 Python 语言中包含的可以处理时间的库中最基本的一个标准库，它可以表达计算机时间，能够提取获取系统时间，并格式化输出，能够提供系统级的精确计时功能，可以用来做程序性能分析。

:::



使用方法：

 ```python
import time
time.<b>()
 ```

他是一个最典型最直接的 Python 标准库的使用方法。



| 函数类型   | 描述                        |
| ---------- | --------------------------- |
| 时间获取   | time() , ctime() , gmtime() |
| 时间格式化 | strftime() , strptime()     |
| 程序计时   | sleep() , perf_counter()    |



## 时间获取

| 函数   | 描述                                                         |
| ------ | ------------------------------------------------------------ |
| time() | Time 库中获取时间的最主要的函数就是 `time()` 函数，它可以获取当前时间戳（时间戳是系统中表示时间的一个浮点数），即计算机内部时间值<br/>>>>time.time()<br/>1516939876.6022282 |

时间戳是一串很长的浮点数，我们很难知道其中的含义，其实，时间戳表示的是从 `1970年1月1日0:00开始，到当前这一时刻为止的以秒为单位的数值` 。



| 函数    | 描述                                                         |
| ------- | ------------------------------------------------------------ |
| ctime() | 获取当前时间并以易读方式表示，返回字符串<br/>>>>time.ctime()<br/>'Fri Jan 26 12:11:16 2018' |

ctime() 是 time库 中获取当前人类译读当前时间的最简单的函数。



| 函数     | 描述                                                         |
| -------- | ------------------------------------------------------------ |
| gmtime() | 获取当前时间，表示为计算机可以处理的时间格式<br/>>>>time.gmtime()<br/>time.struct_time(tm_year=2016, tm_mon=4, tm_mday=7, tm_hour=2, tm_min=55, tm_sec=45, tm_wday=3, tm_yday=98, tm_isdst=0) |



获取时间我们可以通关以上三种方式。



## 时间格式化

::: warning

是将时间以合理方式展示出来的方法。

:::



类似于字符串的格式化，时间格式化需要一个展示模板，展示模板由特定的格式化控制符组成，用来实现格式化的方法是 `strftime()` 方法



| 函数              | 参数                                                         |
| ----------------- | ------------------------------------------------------------ |
| strftime(tpl, ts) | tpl 是格式化模板字符串，用来定义输出效果<br/>ts 是计算机内部事件类型的变量<br/>>>>t = time.gmtime()<br/>>>>time.strftime("%Y-%m-&d &H:%M:%S",t)<br/>'2018-01-26 12:55:20' |

上方使用 time.gmtime() 来获取计算机可执行的时间。

::: tip

strftime(tpl, ts) 中第一个参数 `tpl`  使用了六个时间格式化的控制符。

所有控制符都是以 `%` +`字母` 的形式来表达的。

:::

![](https://ae01.alicdn.com/kf/Hf509de6874ce4e0e8756ddbf0f409bc85.jpg)

![](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20200504153959891.png)



 通过上方格式化字符串，我们可以将时间通过任意的形式表示出来。

---

我们可以将时间输出为一个变量，同样也可以为变量赋予一个时间。

| 函数              | 描述                                                         |
| ----------------- | ------------------------------------------------------------ |
| strptime(str,tpl) | 可以将一段字符串变成时间<br/>str 是字符串形式的时间值<br/>tpl 是格式化模板字符串，用来定义输出效果 |

```python
>>>timeStr = '2018-01-26 12:55:20'
>>>time.strptime(timeStr, "%Y-%m-%d %H:%M:%S")
time.struct_time(tm_year=2018, tm_mon=1, tm_mday=26, tm_hour=4, tm_min=11, tm_sec=16, tm_wday=4, tm_yday=26, tm_isdst=0)
```

将一个时间变为计算机内部一个表达时间的浮点数。


## 程序计时应用

> 指测量起止动作所经历时间的过程。



主要包括测量时间与产生时间两部分。

测量时间：记录时间的流逝。



1. | 函数           | 描述                                                         |
   | -------------- | ------------------------------------------------------------ |
   | perf_counter() | 返回一个 cpu 级别的精确时间计数值，单位为秒，由于这个计数值起点不确定，连续调用差值才有意义。(它可以获取计算机中 CPU 以其频率运行的时钟，时间往往以纳秒来计算，非常精准。) |

   ```python
   >>>start = time.perf_counter()
   318.66599499718114
   >>>end = time.perf_counter()
   341.3905185375658
   >>>end - start
   22.724523540384666
   ```

2. | 函数     | 描述                                 |
   | -------- | ------------------------------------ |
   | sleep(s) | s 拟休眠时间，单位是秒，可以是浮点数 |

   ```python
   >>>def wait():
   		time.sleep(3.3)
   >>>wait() #调用该函数，那么程序将会等待 3.3 秒后退出
   ```





# 文本进度条

采用字符串方式打印出可以动态变化的文本进度条，需要可以在一行中逐渐变化。

需要采用 sleep() 模拟一个持续的进度。



## 简单的开始

```Python
#TextProBarV1.py
import time
scale = 10
print("------执行开始------")
for i in range(scale+1):
	a = '*' * i
	b = '.' * (scale - i)
	c = (i/scale)*100
	print("{:^3.0f}%[{}->{}]".format(c,a,b))
	time.sleep(0.1)
print("------执行结束------")
```

输出：

![](https://ae01.alicdn.com/kf/H5118b3b185c84fadb13510e8249411181.jpg)

## 单行动态刷新

::: tip

刷新的本质是：用后打印的字符覆盖之前的字符

:::

为了呈现一种刷新的效果，我们需要控制 print() 函数，使其输出信息之后不能换行。也需要使用转义符字符信息 `\r` 使光标退回到之前的位置。

```python
#TextProBarV1.py
import time
for i in range(101):
	print("\r{:3}%.format(i), end="")
	time.sleep(0.1)
```



`end=""` 是 print() 函数的一个参数，它可以改变每一次 print 输出最后增加的那个信息。

`\r`  这个参数指的是在打印输出之前，它能够将光标退回到行首。

两者结合起来就是，打印完毕后不输出任何东西，且光标回到行首，构成了一种单行的刷新效果。

## 文本进度条完整效果

```python
#TextProBarV3.py
import time
scale = 50
print("执行开始".center(scale//2,"-"))
start = time.perf_counter()
for i in range(scale+1):
	a = "*" * i
	b = "." * (scale - i)
	c = (i/scale)*100
	dur = time.perf_counter() - start
	print("\r{:^3.0f}%[{}>{}]{:.2f}s".format(c,a,b,dur),end="")
	time.sleep(0.1)
print("\n"+"执行结束".center(scale//2,'-'))
```



举一反三：

扩展：

![](https://ae01.alicdn.com/kf/H4f9a7faa1b194953852ef1ca26cc24003.jpg)

![](https://ae01.alicdn.com/kf/H42712f1f273340d8ab076f4aef21ce55k.jpg)



---

![](https://ae01.alicdn.com/kf/H9f05c2fac2054225a2951f9aaa8d5274I.jpg)

非线性往往更符合人类的行为需求
